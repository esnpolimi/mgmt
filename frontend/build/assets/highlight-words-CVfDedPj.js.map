{"version":3,"file":"highlight-words-CVfDedPj.js","sources":["../../node_modules/highlight-words/dist/highlight-words.mjs"],"sourcesContent":["const hasProp = (prop) => (obj) => obj !== null && typeof obj === \"object\" && prop in obj;\nconst hasMatch = hasProp(\"match\");\nconst chunkExists = (chunk) => typeof chunk !== \"undefined\";\nfunction clip({\n  curr,\n  next,\n  prev,\n  clipBy = 3\n}) {\n  const words = curr.text.split(\" \");\n  const len = words.length;\n  if (curr.match || clipBy >= len) {\n    return curr.text;\n  }\n  const ellipsis = \"...\";\n  if (chunkExists(next) && chunkExists(prev) && hasMatch(prev) && hasMatch(next)) {\n    if (len > clipBy * 2) {\n      return [\n        ...words.slice(0, clipBy),\n        ellipsis,\n        ...words.slice(-clipBy)\n      ].join(\" \");\n    }\n    return curr.text;\n  }\n  if (chunkExists(next) && hasMatch(next)) {\n    return [ellipsis, ...words.slice(-clipBy)].join(\" \");\n  }\n  if (chunkExists(prev) && hasMatch(prev)) {\n    return [...words.slice(0, clipBy), ellipsis].join(\" \");\n  }\n  return curr.text;\n}\n\nconst escapeRegexp = (term) => term.replace(/[|\\\\{}()[\\]^$+*?.-]/g, (char) => `\\\\${char}`);\nconst termsToRegExpString = (terms) => terms.replace(/\\s{2,}/g, \" \").split(\" \").join(\"|\");\nconst regexpQuery = ({\n  terms,\n  matchExactly = false\n}) => {\n  if (typeof terms !== \"string\") {\n    throw new TypeError(\"Expected a string\");\n  }\n  const escapedTerms = escapeRegexp(terms.trim());\n  return `(${matchExactly ? escapedTerms : termsToRegExpString(escapedTerms)})`;\n};\nconst buildRegexp = ({\n  terms,\n  matchExactly = false\n}) => {\n  try {\n    const fromString = /^([/~@;%#'])(.*?)\\1([gimsuy]*)$/.exec(terms);\n    if (fromString) {\n      return new RegExp(fromString[2], fromString[3]);\n    }\n    return new RegExp(regexpQuery({ terms, matchExactly }), \"ig\");\n  } catch {\n    throw new TypeError(\"Expected terms to be either a string or a RegExp!\");\n  }\n};\n\nlet IDX = 36;\nlet HEX = \"\";\nwhile (IDX--) {\n  HEX += IDX.toString(36);\n}\nfunction uid(len = 11) {\n  let str = \"\";\n  let num = len;\n  while (num--) {\n    str += HEX[Math.random() * 36 | 0];\n  }\n  return str;\n}\n\nconst hasLength = (str) => str.length > 0;\nconst highlightWords = ({\n  text,\n  query,\n  clipBy,\n  matchExactly = false\n}) => {\n  const safeQuery = typeof query === \"string\" ? query.trim() : query;\n  if (safeQuery === \"\") {\n    return [\n      {\n        key: uid(),\n        text,\n        match: false\n      }\n    ];\n  }\n  const searchRegexp = buildRegexp({ terms: query, matchExactly });\n  return text.split(searchRegexp).filter(hasLength).map((str) => ({\n    // Compose the object for a match\n    key: uid(),\n    text: str,\n    match: matchExactly ? str.toLowerCase() === safeQuery.toLowerCase() : searchRegexp.test(str)\n  })).map((chunk, index, chunks) => ({\n    // For each chunk, clip the text if needed\n    ...chunk,\n    // All the props first\n    ...typeof clipBy === \"number\" && {\n      // We only overwrite the text if there is a clip\n      text: clip({\n        curr: chunk,\n        // We need the current chunk\n        ...index < chunks.length - 1 && { next: chunks[index + 1] },\n        // If this wasn't the last chunk, set the next chunk\n        ...index > 0 && { prev: chunks[index - 1] },\n        // If this wasn't the first chunk, set the previous chunk\n        clipBy\n      })\n    }\n  }));\n};\n\nexport { highlightWords as default };\n"],"names":["hasProp","prop","obj","hasMatch","chunkExists","chunk","clip","curr","next","prev","clipBy","words","len","ellipsis","escapeRegexp","term","char","termsToRegExpString","terms","regexpQuery","matchExactly","escapedTerms","buildRegexp","fromString","IDX","HEX","uid","str","num","hasLength","highlightWords","text","query","safeQuery","searchRegexp","index","chunks"],"mappings":"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","x_google_ignoreList":[0]}